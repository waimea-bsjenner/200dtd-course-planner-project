{#=====================================================
  singular class list page
  - List of topicss passed in as 'topics' array
=====================================================#}

{% extends 'pages/base.jinja' %}


{% block title %}

    Course Planner

{% endblock %}


{% block content %}

    <h1>{{ clas.name }}</h1>

    <article>
        <h3>Information</h3>
        <p>Year: {{clas.year}}</p>
        <p>Size: {{clas.size}}</p>
    </article>

    <article>

        <ul>
            <h3>Current Topics:</h3>
            {% for topic in topics %}   
                {% if topic.current == 1 %}
                    <li class="list">
                        <a href="/topic/{{ topic.id }}">
                            <strong>{{ topic.name }}</strong>
                        </a>
                    
                        <a role=button onclick="return confirm('Really delete?');" href="/deleteTopic/{{ topic.id }}">Delete?</a>
                        <a role=button href="/uncurrentTopic/{{ topic.id }}">Remove topic as current</a>
                        <a role=button href="/completeTopic/{{ topic.id }}">Complete Topic</a>
                    </li>
                {% endif %}
            {% else %}
                <p>None!</p>
            {% endfor %}
            
            <h3>Incomplete Topics:</h3>
            {% for topic in topics %}
                {% if topic.done == 0 and topic.current == 0 %}
                    <li class="list">
                        <a href="/topic/{{ topic.id }}">
                            <strong>{{ topic.name }}</strong>
                        </a>

                        <a role=button href="/currentTopic/{{ topic.id }}">make topic current</a>
                        <a role=button href="/completeTopic/{{ topic.id }}">Complete Topic</a>
                        <a role=button onclick="return confirm('Really delete?');" href="/deleteTopic/{{ topic.id }}">Delete?</a>
                    </li>
                {% endif %}
            {% else %}
                <p>None!</p>
            {% endfor %}           
        </ul>

        <ul>
            <strong>Completed Topics:</strong>
            {% for topic in topics %}
                {% if topic.done == 1 %}
                    <li class="list">
                        <a href="/topic/{{ topic.id }}">
                            <strong>{{ topic.name }}</strong>
                        </a>
                        <a role=button href="/unCompleteTopic/{{ topic.id }}">Uncomplete topic</a>
                        <a role=button onclick="return confirm('Really delete?');" href="/deleteTopic/{{ topic.id }}">Delete?</a>
                    </li>
                {% endif %}

            {% else %}
                <p>None!</p>
            {% endfor %}
        </ul>

    </article>


    <article>
    
        <h3><a href="/newTopicForm">Add a new Topic</a></h3>

        <h3><a href="/updateClassForm/{{ clas.id }}">Update this class</a></h3>

        <h3><a onclick="return confirm('Really delete?');" href="/deleteClass/{{ clas.id }}">Delete?</a></h3>

    </article>

    <a role="button" href="/">Back to Classes List</a>

{% endblock %}

